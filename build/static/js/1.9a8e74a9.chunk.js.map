{"version":3,"sources":["tool/Processing.js","tool/http.js","tool/api/real_bus.js","assets/imgs/signal.gif","tool/loading/Loading.js","components/searchBar/index.jsx","assets/imgs/search.png","assets/imgs/home.png","assets/imgs/company.png","assets/imgs/fav.png","components/card_children/index.jsx","assets/imgs/fav2.png","components/Bulletframe/index.jsx","assets/imgs/del.png"],"names":["_setRecommend","valueList","map","item","carNum","lineId","siteOrder","viewSort","siteRoad","upDown","_sortView","array","i","j","tmp","result","len","length","slice","_unique","val","type","n","r","soleId","indexOf","push","_mergeList","reacommendList","selectLineCarsList","viewData","Object","assign","_setChildDOM","value","newArr","drawInTime","sort","a","b","_setCacheList","flag","_setFlag","valueC","arrayLocal","arrayCache","_delCache","cacheList","filter","_filter","$rempm","$cache","$filterData","_getDistance","lat1","lng1","lat2","lng2","radLat1","Math","PI","radLat2","s","asin","sqrt","pow","sin","cos","round","ceil","_setLocation","array1","array2","newBusList","nextNum","busLocat","deepCopy","target","copyed_objs","_deepCopy","copyTarget","obj","Array","isArray","keys","forEach","key","_filterListView","viewList","_TIMES","time","theTime","parseInt","middle","hour","post","url","params","head","Promise","resolve","reject","axios","then","res","data","catch","err","defaults","baseURL","timeout","interceptors","request","use","config","error","response","code","console","log","header","headers","searchList","qs","stringify","selectLineCars","userId","lineSiteCarsParams","nearSites","recommendLine","selectSiteDetails","Loading","props","className","show","this","div","document","createElement","body","appendChild","ReactDOM","render","remove","unmountComponentAtNode","parentNode","removeChild","Searchbar","_changePage","source","mylocation","history","pathname","state","longitude","lat","latitude","_changeData","e","nativeEvent","returnback","onClick","src","alt","placeholder","onChange","Component","connect","locationCity","dispatch","one","number","CITY","withRouter","getTime","Cardchildred","children","_getChildrenDom","childrenDOM","pullIn","signal","_getDOM","index","list","updateDOM","newList","status","selectImg","id","img","home","title","company","fav","Bulletframe","_selectState","flagId","listObj","Collection","ction","myLineData","switchID","JSON","parse","localStorage","getItem","t","setItem","element","_changerecommend","changeFeame","recommendData","switchState","busReal","RECOMMENDLINE"],"mappings":"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","file":"static/js/1.9a8e74a9.chunk.js","sourcesContent":["\r\n\r\n\r\nexport const _setRecommend = (valueList) =>{//处理实时公交的处理数据\r\n    return valueList.map( item =>{\r\n        return {\r\n            carNum: 0,\r\n            lineId: item.lineId,\r\n            siteOrder: item.viewSort,\r\n            siteRoad: 0,\r\n            upDown: item.upDown\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\n// 将最小元素推至最前\r\nexport const _sortView = (array) => { \r\n  let len = array.length,\r\n  i, j, tmp, result;\r\n  result = array.slice(0);\r\n  for (i = 0; i < len; i++) {\r\n    for (j = len - 1; j > i; j--) {\r\n      if (result[j].lineId < result[j - 1].lineId) {\r\n        tmp = result[j - 1];\r\n        result[j - 1] = result[j];\r\n        result[j] = tmp;\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n// 去重\r\nexport  const  _unique = (array) =>{\r\n  if(!array.length) return []\r\n  let n = {}, r = [], val, type;\r\n      for (let i = 0; i < array.length; i++) {\r\n          val = array[i].soleId;\r\n          type = typeof val;\r\n          if (!n[val]) {\r\n              n[val] = [type];\r\n              r.push(array[i]);\r\n          } else if (n[val].indexOf(type) < 0) {\r\n              n[val].push(type);\r\n              r.push(array[i]);\r\n          }\r\n      }\r\n  return r;\r\n}\r\n\r\nexport const _mergeList = ( reacommendList,selectLineCarsList ) =>{//合并数组\r\n    let viewData = reacommendList\r\n    for (let i = 0; i < viewData.length; i++) Object.assign( viewData[i] , selectLineCarsList[i])\r\n    return viewData\r\n}\r\n\r\nexport const _setChildDOM = ( value )=>{\r\n  let newArr=[]\r\n  for (let i = 0; i < value.length; i++) {\r\n      if(value[i].drawInTime!==-1){\r\n        newArr.push(value[i])\r\n      }\r\n  }\r\n  return newArr.sort((a,b)=> a.drawInTime - b.drawInTime)\r\n}\r\n\r\nexport const _setCacheList = ( array ) =>{//过滤保存数据\r\n  return array.map(item=>{\r\n    return {\r\n      flag:item.flag,\r\n      soleId:item.soleId,\r\n    }\r\n  })\r\n}\r\n\r\nexport const _setFlag = ( value,valueC ) =>{//查看是否收藏\r\n  let arrayLocal=value\r\n  let arrayCache=valueC\r\n  for(let i=0;i<arrayLocal.length;i++){\r\n    for(let j=0;j<arrayCache.length;j++){\r\n      if(arrayLocal[i].soleId===arrayCache[j].soleId){\r\n        arrayLocal[i].flag=arrayCache[j].flag\r\n      }\r\n    }\r\n  }\r\n  return arrayLocal\r\n}\r\n\r\n\r\nexport const _delCache = ( array ,soleId) =>{\r\n  let cacheList = array\r\n  cacheList=cacheList.filter(item=>{\r\n    return item.soleId!==soleId\r\n  })\r\n  return cacheList\r\n}\r\n\r\n\r\nexport const _filter = ($rempm,$cache) =>{\r\n  let $filterData=[]\r\n  if(!$cache.length) return []\r\n  for(let i=0;i<$rempm.length;i++){\r\n    for (let j = 0; j < $cache.length; j++) {\r\n      if($rempm[i].soleId===$cache[j].soleId){\r\n        $rempm[i].flag=$cache[j].flag\r\n        $filterData.push($rempm[i])\r\n      }\r\n    }\r\n  }\r\n  return $filterData\r\n}\r\n\r\nexport const _getDistance = (lat1, lng1, lat2, lng2) =>{ // 根据经纬度计算两点之间的距离\r\n  let radLat1 = lat1*Math.PI / 180.0\r\n  let radLat2 = lat2*Math.PI / 180.0\r\n  let a = radLat1 - radLat2\r\n  let b = lng1*Math.PI / 180.0 - lng2*Math.PI / 180.0\r\n  let s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2) +\r\n  Math.cos(radLat1)*Math.cos(radLat2)*Math.pow(Math.sin(b/2),2)))\r\n  s = s *6378.137 \r\n  s = Math.round(s * 10000) / 10000*1000\r\n  return Math.ceil(s)\r\n}\r\n\r\nexport const _setLocation = (array1,array2) =>{//将行驶车辆添加到数组中\r\n  let newBusList=array1\r\n  for (let i = 0; i < newBusList.length; i++) {\r\n    for (let j = 0; j < array2.length; j++) { \r\n      if(newBusList[i].viewSort===array2[j].nextNum){\r\n        newBusList[i].busLocat=array2[j]\r\n      }\r\n    }\r\n  }\r\n  return newBusList\r\n}\r\n\r\nexport function deepCopy(target){ \r\n  let copyed_objs = [];//此数组解决了循环引用和相同引用的问题，它存放已经递归到的目标对象 \r\n  function _deepCopy(target){ \r\n      if((typeof target !== 'object')||!target){return target;}\r\n      for(let i= 0 ;i<copyed_objs.length;i++){\r\n          if(copyed_objs[i].target === target){\r\n              return copyed_objs[i].copyTarget;\r\n          }\r\n      }\r\n      let obj = {};\r\n      if(Array.isArray(target)){\r\n          obj = [];//处理target是数组的情况 \r\n      }\r\n      copyed_objs.push({target:target,copyTarget:obj}) \r\n      Object.keys(target).forEach(key=>{ \r\n          if(obj[key]){ return;} \r\n          obj[key] = _deepCopy(target[key]);\r\n      }); \r\n      return obj;\r\n  } \r\n  return _deepCopy(target)\r\n}\r\n\r\n\r\nexport const _filterListView = (array) =>{//过滤车辆时间数组并排序\r\n  let viewList = array\r\n  viewList=viewList.filter(item=>{\r\n    return item.drawInTime!==-1\r\n  })\r\n  return viewList.sort((a,b)=>a.drawInTime-b.drawInTime)\r\n}\r\n\r\nexport const  _TIMES = (time)=>{\r\n  let theTime = parseInt(time);// 秒\r\n  let middle= 0;// 分\r\n  let hour= 0;// 小时\r\n  if(theTime > 60) {\r\n      middle= parseInt(theTime/60);\r\n      theTime = parseInt(theTime%60);\r\n      if(middle> 60) {\r\n          hour= parseInt(middle/60);\r\n          middle= parseInt(middle%60);\r\n      }\r\n  }\r\n  let result=`${parseInt(theTime)}`\r\n  if(middle > 0) {\r\n      result=`${parseInt(middle)<10?`0${parseInt(middle)}`:parseInt(middle)}:${result<10?`0${result}`:result}`\r\n  }\r\n  if(hour> 0) {\r\n      result=`${parseInt(hour)<10?`0${parseInt(hour)}`:parseInt(hour)}:${result<10?`0${result}`:result}`\r\n  }\r\n  if(middle<=0&&hour<=0){\r\n    result=`00:${result<10?`0${result}`:result}`\r\n  }\r\n  return result;\r\n}\r\n  ","import axios from 'axios'; // 引入axios\r\n\r\n\r\naxios.defaults.baseURL = 'https://www.cqjyt.top:8111';\r\n\r\naxios.defaults.timeout = 10000;//超时时间\r\n\r\n\r\n// 请求拦截器\r\naxios.interceptors.request.use(    \r\n    config => {          \r\n        return config;  \r\n    },    \r\n    error => {        \r\n        return Promise.error(error);    \r\n    }\r\n)\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use( res=>{\r\n    if(res.code===200){\r\n        return Promise.resolve(res);\r\n    }else{\r\n        return Promise.resolve(res);\r\n        \r\n    }\r\n},err=>{\r\n    console.log(err);\r\n})\r\nexport function get(url, params){   \r\n    return new Promise((resolve, reject) =>{        \r\n        axios.get(`${url}`).then(res => {\r\n            resolve(res.data);\r\n        }).catch(err =>{\r\n            reject(err.data)        \r\n    })    \r\n});}\r\nexport function post(url, params,head) {\r\n    return new Promise((resolve, reject) => {\r\n         axios.post(url, params,head)\r\n        .then(res => {\r\n            resolve(res.data);\r\n        })\r\n        .catch(err =>{\r\n            reject(err.data)\r\n        })\r\n    });\r\n}","import { post } from '@/tool/http.js'\r\nimport qs from 'qs'\r\nconst header={headers: {'Content-Type': 'application/x-www-form-urlencoded'}}\r\n// 搜索列表\r\nexport const searchList = params => post('/travelApp/busLineSite/searchList',qs.stringify(params),header)\r\n\r\n// 实时公交\r\nexport const selectLineCars = params =>post(`/travelApp/busLineSite/selectLineCars/${params.userId}`,params.lineSiteCarsParams)\r\n\r\n// 线路附近站点列表\r\nexport const nearSites = params => post('/travelApp/busLineSite/nearSites',qs.stringify(params),header)\r\n\r\n// 推荐线路\r\nexport const recommendLine = params =>post(`/travelApp/busLineSite/recommendLine`,qs.stringify(params),header)\r\n\r\n// 地点详情\r\nexport const SiteDetails = params =>post('/travelApp/busLineSite/selectSiteDetails',params)\r\n\r\n// 车辆相信信息\r\nexport const selectSiteDetails = params =>post('/travelApp/busLineSite/selectLineDetails',qs.stringify(params))","export default \"data:image/gif;base64,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\"","import ReactDOM from 'react-dom';\r\nimport './index.scss'\r\nfunction Loading(props) {\r\n    return <div className=\"loading-container\">\r\n              <div className=\"container_box\">\r\n               <div className=\"box_loading\">\r\n                  <div className=\"loading\">\r\n                     <span></span>\r\n                     <span></span>\r\n                     <span></span>\r\n                     <span></span>\r\n                     <span></span>\r\n                  </div>\r\n               </div>\r\n              </div>\r\n            </div>\r\n }\r\n Loading.show = function (props) {\r\n    this.div = document.createElement('div');\r\n    document.body.appendChild(this.div);\r\n  \r\n    ReactDOM.render(<Loading {...props}/>, this.div);\r\n }\r\n Loading.remove = function () {\r\n    this.div && ReactDOM.unmountComponentAtNode(this.div); //从div中移除已挂载的Loading组件\r\n    this.div && this.div.parentNode.removeChild(this.div); //移除挂载的容器\r\n }\r\n export default Loading;\r\n","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'//引入redux容器组件\r\nimport { withRouter } from 'react-router-dom'\r\nimport { CITY } from '@/redux/city_location/variable.js'//引入reducers变量\r\n// import { debounce } from '@/tool/location.js'\r\nimport search from '@/assets/imgs/search.png'\r\nimport './index.scss'\r\nclass Searchbar extends Component {\r\n    _changePage = () => {\r\n        const { source ,mylocation } = this.props\r\n        if( !source ) return \r\n        this.props.history.push({pathname:'/search',state:{log:mylocation.longitude,lat:mylocation.latitude}})\r\n    }\r\n    _changeData = (e) => {\r\n        const { data } = e.nativeEvent\r\n        this.props.returnback(data)\r\n    }\r\n    render() {\r\n        const { source } = this.props\r\n        return (\r\n            <div className=\"index_search\">\r\n                <div className=\"search_box\" onClick={this._changePage}>\r\n                    {source?<span>公交</span>:''}\r\n                    <img src={search} alt=\"\" />\r\n                    {\r\n                        source\r\n                        ?<div>输入公交线路、车站、地点</div>\r\n                        :<input \r\n                            type=\"text\" \r\n                            placeholder=\"输入公交线路、车站、地点\"\r\n                            onChange={e=>this._changeData(e)}\r\n                            ></input>\r\n                            // onChange={debounce(this._changeData,500)}\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    (state)=>({mylocation:state.locationCity}),\r\n    (dispatch)=>({\r\n        one:(number)=>{\r\n            dispatch({type:CITY,data:number})\r\n        }\r\n    })\r\n)(withRouter( Searchbar ))","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA0AAAAQCAYAAADNo/U5AAABtklEQVQ4T42SMWhTQRjH/989iRkSimgWN4eiiEtLHEScH+9eAoVKKmItb3J0qeAguOpSqoOzS4emo+buSIZXnAsuhXYSBMFAdTHW90J43ycXUimFmnzTHd//d9//f3eEU2WMWVBKrYnILQCBiPwEYABsaa2HJ1Lyi3a7XapWq28BtAC8F5FPzPxbKXUDwCMAV0TkQRzHe14/hqy1O0R0mZlXtNZHp6dP+k9E5FUQBPfCMNwn59xDZn4ZBMFiGIbHZ4GTvbX2mXcSRdFtD+2JyOsoinbOAyYRgkql8oWI1sgYMyyK4lKz2fzzP8j3nHPvmPmHh4601rVpwCTbcwDXyFo77Pf7c0mS5NNAY8wmEWUeOmTm9TiOP06BvPbAa/1FPBWR1Vqtdqder4/OA51ziYi8KJfL1ylN0wtZlu0S0ffBYPC41WplZ8FOp9NQSm0VRbHUaDTS8eP2er250WjUJqJ5Zn7DzLvMfFwqlW4CWAWwLCIbWuv1fz9icrL3fJ+IEmZeIKKLIvINwAci+gpgU0Tuaq0/jyfNUtbaDQBLeZ4vzgz57HmepwB+zQx5N91u92pRFNt/AU/Z0g+QXeI8AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAlCAYAAADfosCNAAACe0lEQVRYR+2YO2gUURSGvxPjg/gqFEQRCxstBAvBxkrBVaNoYiWxkDSK4LIzarCIZSzEJTuzQUQLxcKARTA+CIkBsbASLAQLLbQQIQha+IoE454wG2LWzGPn7s4mKWaaheU/5//uv3vn3BkhqeuarqSZfoSjKI+YpIMu+ZVEe0miCXldTzPDwK6Kfq+Y5CAX5Uu9HvVDOroFeApsC4B5B2Sw5GM9oPVB9ul2/jIKbI6A+MQS9pOVt7WC1g7Zq7tpYghYF8P8KyVaOS8vY2h9ktogXT2G0g+0GJiOI3SQk4cGNWWpOWRBTyPcAJpMzYASyllsuWVSawZZ0G6EHhODQK1yGVuuxO0TH7KgDkIubuOqOsXFFquqLtbPfVOXMs4dhJNxGhpplHu00MkZ+RNVF53kVV3NcgaBfUbmZuJnTNDGJfkRVhYO6egGlBGEnWaeNaiV1wgHsORzUHUwZEG3AqMI3ud8Xe9RMtjyYa6hH9LVHWh5zG2cL7oKnzGEDDl5U+n9P6SreynxAGHtAgBOWyrfgDZseT7DMAvZqycQ7iIsWzDAWeMJ4BSW3Pe+moZ0NYt336plAjVuRYqSw5Y+Iakp0jjYbsHR0iJLcO5yS16SPQidIUGsAVY1LqR/nX8C30N8bkdPHEfzwIWGQwp5ctJlPnG8iqQPFeGrdbDETiET+DukSSYQYrlFmuRMkmPAi4BY9wCbYsQ9L0kOYkm7D6agAwjHFwvkEJYc9sE4+hg4kkIaTJw0yegDRvzZnSZZLckiQjbG7hzGkkM+natPUPy73t+wiCWhr3CiIV1tRRkAVkSAes8iWWy5HnALOgcUq5z8fwPtWDIS5jEFUTnhzbhWDasAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAmCAYAAABDClKtAAAD+ElEQVRYR+2YXWgcVRTHf2dmJ6U1WlAEq5UKWqsvbSTZtdTQ2oJGH3zxA5+UaFEkIFranVUfbApqdTctgooUjKJ9aim+CCI+2GpoSXeWtikUpL5JFQ2Kn7Rk584cme3udjfZJDOZIBGch33Zc/7723PP+d97R1iCj6Rhcjw3h2oPGpz0794/kUarNXdBUI730l1K8IYgD9TEFONbwSr69v2yGGDJoMbzax2b14FHQdpyJQg3VDeOnP33oE65N9oBuy0YBLo6/rBor99XOsWZHTc5xhlG1UJ5x8+VziQFnbtSJ1++LmMFBWBI4Ko5xetQjud+AGyvx4bAYd+xd9Oz93xcuM5Q489fk7GWv4CwU2BlLLErUMeBTdNyqsBBP2CYjcUL8+nNgHK8XS8q1isC18+X3PZ9Eyo/AbK+U66qXkLkgKmGe7lnZHI2/TaoTKWwR1RfTQTTCL5Sqe+A2+bSUPRP4F2zzB5h/Zu/TY9th/LcLwXuSwVVds8jrI2jocqvWOwzvSveQoaj/qs97VBl9wsRBuIIzohpVCoBVENDYdhki3uWGtSnJlt8JDaUwh8CoyJaK28YSk6EzbErJUwRckAsjSaQUFknyEOt+QpHTLb4WBKooyZb3NZIsD33CQs+iQ0F3/vZ4ppGfGZ8Z7/Y9lgqKOAbP1vc0hBxyvlBRD6KC6VwwWSLNzehyvktInIsLdRp/+/JTXCLiYQy3RcLAq/FhlKdNMbcSVdXQLeG9l96v4UcSQsVHQOmQIK60IqO0znn9GlQH3QF7OlTn7inYttDOktI1uhLFcqockIEVZFAVCO3bjZuE3q2SglhLR8CFULRWm7bNpR4+VQYM33Fpi85Xv5JkI9jN/qM6StsFtGv0zW6MubnWqDK7lMIHy4Yytt1r2AdTQWl6HGTLfU3fariPofyfmwo1R9MrrS66VMVd6soX6WCinYGIDp7R+McfawRuDYuVD3uHFDbZhRWCdyQFireAP5vCZfrFKKqiERLmEnq6AoXUQJqrsJyECft8p32M9Vt/A5cvUwdwkFU3o7bUwo/m67wVjLdPpd+VFtWDlihfJYWqv2U4OWfBhlNALX4pwRFj5lsaWvTEjw3utNFd7v2Z/ZGbz9PVQr9opruPFW/eYxaSHR0CRUdAOmJD6U+WAdBTdRTitwu0PyTdZv4r23Invu5wIPxjCn28s0vpxz2c8XHG4HCuLvasXgYSxVlCOSO+VU6RKQwT5QJLB2N3uT4ZuqQOF5+B8j+BYG0JqWBatWx5FlxKu4QyntpocQKN1R7R846nvstsG7BesLgolVK4SchmjSJNts2x04EGOozl3sqE10ONdlbvUS/FDs49LusQ/8AlsOF6eqkbZAAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACcAAAAmCAYAAABH/4KQAAAD8ElEQVRYR82YX2gcVRjFz5ndTZPsbEIMoUI1CBaDxuxstFSQok/6FouiBbFQn2pB6p9aUkN24mZnUmsUQqWo+OfFYLEEoYigtPhQH9KXKjsbS9LiH0wfJJCGmp1NWjc7n2xKS5vdyc7MZtX7Ouc75zd3Zr577xD/48GNYLOn9N0QfABBDMSiCF6KacaXtXrXDLeUGdzikL8DjNwCcxVK8R615/BcLYA1w+UyyWMkXy6DEBlTE+aB/wzOPp+6EyvFPwA0lEPIstMY7mzpSs0HBaxp5mxLHwPwmmu4YFRNGIf+dbjcTwMdDIVnATS6hRPIr+TtztZHxxaCAAaeOdvS3wVwsFqoAIdjmjFYTVfpeiC4xemB9tDf4VkBmquFCiRXKBTuvmPbO39V0669HgjOziSPgPT8LhGSimrmcN3hrmTfbAtJZJaA6iPsynLuWmfHjtGcjxp4nrnLVv9dm6ThARAvAnzeT8h1rYxDUcavLRdn2rePXPJSXwYn1sHoEhq6RNgNRXkIIg8SvF+ALV4MvWhI/Ok4mAExLYIfwwqmV5ZXLrY88vblW+tX4XJT+i468gyAboBb12sPXsKDaaRAcNYBztPBCbXXOE47k3wD5HvBDOtXRZF9tLP6PATt9YsJ5kziF9pWchFgLJhFXavmSnDHg319dQWDCD5iqW+FJXIGQE9943y4i5yKtoZ3rn6tC+cOtUYikW8I7vBhURcpgYnmwtwL3PZx4WafuzT5elNbVD0BoK8uqR5MCXzaHDf2kpCS/LYmLPJcKJ/t+gzgHg9eGyyRo6pm3rY3rLh82ZZ+FMArG5zuakfCjMYNfa3AdW3NZXSDRLL+gNKvamZpb1g21l347Yx+AJBRkKGNh5SCAK/GNPNDN+914eTc3shSZPOC+NseebsPwXz0ZGgzUyknEJw9lYrDKVre0vyrwopsbewxfw0Ip++Gg3H/sd4qHEeebuk1TwaCy2WT71O431uUfxXB4aiWTgWCs62hM4A85j/WW4VAvo5p5k7fcCIpJZ8tlk7rbd6i/KsE+C2mGff6hlvMDNynMHzBf6SvCqcYDnW0dqcqHrpdW8mSlXzWASd8RQUQh+g83hQf+cFXE7azySMQ72dTAc5S+AmJfQLZ7pVTxNkfS4wc8weX0U+BeKJaiIhMKopiRuPpb29o89Zgn0B5C8DD1eoBfK5qRsWNhutjtS395+unscqjBEXCUDXzOzfNKqQowyB6XSEFp9WE8aSvmXP7KUjKpFBJqT3p0x5mZVWSt4b6BE4aYKK8JsDCLzP9sfzVTV/deLQUTirEUJOW/t4r1Fpd3ko+JcDwTUiRL6IXL+zhroliJc9/AKAVXmR6p+BQAAAAAElFTkSuQmCC\"","import React, { Component , Fragment  } from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { _setChildDOM } from '@/tool/Processing.js'\r\nimport signal from '@/assets/imgs/signal.gif'\r\nimport './index.scss'\r\nconst getTime = (time) => Math.round(time/60)\r\nclass Cardchildred extends Component {\r\n    _changePage = (children)=>{\r\n        const { lineId,siteOrder } = this.props\r\n        const { upDown } = children\r\n        this.props.history.push({pathname:'/details',state:{lineId,siteOrder,upDown}})\r\n    }\r\n    _getChildrenDom = ( children )=>{\r\n        let  childrenDOM\r\n        if( children.pullIn===2 ){\r\n            childrenDOM=(\r\n                <div className=\"three_two\">\r\n                    <div className=\"two_top\">\r\n                        <img src={signal} alt=\"\" />\r\n                    </div>\r\n                    {children.drawInTime>60\r\n                    ?<div className=\"two_cen\">{getTime(children.drawInTime)}  <span>分</span></div>\r\n                    :<div className=\"two_cen\">{children.drawInTime}  <span>秒</span></div>\r\n                    }\r\n                    <div className=\"two_bottom\" onClick={()=>this._changePage(children)}>查看更多</div>\r\n                </div>)\r\n        }\r\n        if( children.pullIn===4 ){childrenDOM=(<div className=\"three_twotext\">即将到站</div>)}\r\n        if(  children.pullIn===3 ){childrenDOM=(<div className=\"three_twotext\">已到站</div>)}\r\n        return childrenDOM\r\n    }\r\n    _getDOM = ( index,list  ) =>{\r\n        let updateDOM\r\n        let newList\r\n        if( index===1 ) {\r\n            updateDOM=(\r\n                <div className=\"right_one\">\r\n                    <div className=\"one_text\">发车中...</div>\r\n\t\t\t\t\t<div onClick={()=>this._changePage()}>查看更多</div>\r\n                </div>)\r\n        }\r\n         if( index===2 ){\r\n              newList=_setChildDOM(list)||[]\r\n             if(newList.length){\r\n                updateDOM=this._getChildrenDom(newList[0])\r\n             }else{\r\n                updateDOM=(\r\n                <div className=\"right_one\">\r\n                    <div className=\"one_text\">发车中...</div>\r\n                    <div onClick={()=>this._changePage()}>查看更多</div>\r\n                </div>)\r\n             }\r\n            \r\n        }\r\n        if(index===3){updateDOM=(<div className=\"right_three\">已收班</div>)}\r\n        return updateDOM\r\n    }\r\n    render() {\r\n        const { status ,list } =this.props\r\n        return (\r\n            <Fragment>\r\n               { this._getDOM( status,list ) } \r\n            </Fragment>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Cardchildred)\r\n","export default \"data:image/png;base64,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\"","import React, { Component } from 'react'\r\nimport {connect} from 'react-redux'//引入redux容器组件\r\nimport { RECOMMENDLINE } from '@/redux/recommend/variable.js'\r\nimport { _unique ,_setCacheList,_delCache} from '@/tool/Processing.js'\r\nimport home from '@/assets/imgs/home.png'\r\nimport company from '@/assets/imgs/company.png'\r\nimport fav from '@/assets/imgs/fav.png'\r\nimport del from '@/assets/imgs/del.png'\r\nimport './index.scss'\r\nconst selectImg=[\r\n    { id: 1, img: home, title: '家' },\r\n    { id: 2, img: company, title: '公司' },\r\n    { id: 3, img: fav, title: '其他' },\r\n    { id: 0, img: del, title: '删除' },\r\n  ]\r\nclass Bulletframe extends Component {\r\n    state={\r\n        \r\n    }\r\n    _selectState = (flagId) =>{\r\n        const { myLineData , soleId , switchID} =this.props\r\n        let listObj\r\n        let Collection\r\n        let ction\r\n        if( flagId ){\r\n            if(switchID===2){\r\n                Collection=JSON.parse(localStorage.getItem('historyList'))||[]\r\n                for(let i=0;i<myLineData.length;i++){\r\n                    if(myLineData[i].soleId===soleId){\r\n                        listObj=myLineData[i]\r\n                        myLineData[i].flag=flagId\r\n                        break;\r\n                    }\r\n                }\r\n                Collection.push(listObj)\r\n                ction=_unique(Collection)\r\n                ction = ction.map(t =>  t.soleId === listObj.soleId ? listObj : t);\r\n                localStorage.setItem('historyList',JSON.stringify(_setCacheList(ction)))\r\n            }else{\r\n                Collection=JSON.parse(localStorage.getItem('collection'))||[]\r\n                for(let i=0;i<myLineData.length;i++){\r\n                    if(myLineData[i].soleId===soleId){\r\n                        listObj=myLineData[i]\r\n                        myLineData[i].flag=flagId\r\n                        break;\r\n                    }\r\n                }\r\n                Collection.push(listObj)\r\n                ction=_unique(Collection)\r\n                ction = ction.map(t =>  t.soleId === listObj.soleId ? listObj : t);\r\n                localStorage.setItem('collection',JSON.stringify(_setCacheList(ction)))\r\n            }\r\n        }else{\r\n            if(switchID===2){\r\n                Collection=JSON.parse(localStorage.getItem('historyList'))||[]\r\n                ction=_delCache(Collection,soleId)\r\n                localStorage.setItem('historyList',JSON.stringify(ction))\r\n            }else{\r\n                Collection=JSON.parse(localStorage.getItem('collection'))||[]\r\n                ction=_delCache(Collection,soleId)\r\n                localStorage.setItem('collection',JSON.stringify(ction))\r\n            }\r\n            console.log(switchID);\r\n            myLineData.forEach(element => {\r\n                if(element.soleId===soleId){\r\n                    element.flag=0\r\n                }\r\n            });\r\n        }\r\n        this.props._changerecommend(myLineData)//将数据传到公共状态中\r\n        this.props.changeFeame(false)\r\n    }\r\n    render() {\r\n        return (\r\n            <div className=\"frame\">\r\n                <div className=\"frame_top\" onClick={()=>{this.props.changeFeame(false)}}></div>\r\n                <div className=\"frame_fl slidup\">\r\n                    <div className=\"fl_select\">\r\n                        {\r\n                            selectImg.map(item=>{\r\n                                return (\r\n                                    <div className=\"select_box\" key={item.id} onClick={()=>this._selectState(item.id)}>\r\n                                        <img src={item.img} alt=\"\" />\r\n                                        <div>{item.title}</div>\r\n                                    </div>\r\n                                )\r\n                            }) \r\n                        }\r\n                    </div>\r\n                    <div className=\"fl_cancel\" onClick={()=>{this.props.changeFeame(false)}}>取消</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nconst mapStateToProps=(state)=>({\r\n    myLineData:state.recommendData,\r\n    switchID:state.switchState\r\n})\r\nconst mapDisPatchToProps=(dispatch)=>({\r\n    _changerecommend:( busReal ) =>{\r\n        dispatch({type:RECOMMENDLINE,data:busReal })\r\n    }\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps,mapDisPatchToProps)(Bulletframe)\r\n\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAlCAYAAADIgFBEAAAEAklEQVRYR+2YTWhcVRTH/+fOTLLQhRTRRWsMKFRFu6lI1RYXCooSVwVTKXHeuTMOCK00fqBobahZiEUREYZh3jtPIlq11kWp6Eqx1paAblxYhVaSBtRaP4JFhMzMO3LHO+ElTcykvtnlrh734/x/7777zsclXGKL4/gWVd0N4C4A6wFcAHAKwOHZ2dlodHT079WaptUucPNFZBzAMwByS61X1dPGmKEgCL5bjf1Vw4jIqwD2rCSiqr/mcrktxWLxzEpzO+OrghGRewF8Mr+Y6BtVPZAkydl8Pn9Nq9V6mog2pcSPM/O2XsEcA9A2rqpHms3m9kql0uiI1Wq1QqFQ+ADAgymAu5n5026Aut6ZWq12ZaFQOAfAAJhrNBqDlUrlp8Ui1Wp1fV9f3xQR5f3Y68z8eNcwYRhen8vlNqiqLreIiAZUdcKPX1DVN1OC88tUtQkgIKLLfefnRLRXVd1LXNSIiObm5mYqlcoZEpFHAdS6Ie/hHCWiEkVRdIKIbu+hULemJymO41FVfaXbFb2ap6pPtg9wvV7fbIxxZyJvjHm/I6iqh4nomPuuWUAkSZIYYx5R1c3OXpIkT+VyudPNZnOmXC5/vUAkDMN1xpjfOsJJkuwqlUpvZAHSsSEibwHY6d3DNmvt8Xm/lRZaDANgFzNnDfMOgB1rMIs/sYhkszNRFD1BRFtU9Xlr7fdOqFqtXtXf339AVc81m83nXHiIomgjEY2r6klrrQus8y0TmCiKthLRF97qCWa+0z2LiDiP6/sfY+Zq2ncZY7YWi8UvUwf4/+9MHMfDqnrQGz3LzNd6mI8A3O/79zHz/jiOp1V1wP++O0ql0ruZwojIQwA6RqeZedAJRFF0lIge8GJ7mXlcRKYAtGEBDDPze2swazuzdmY6sWntb0qnEOmoHYbhsDHmIqeX9jOq+oK19kURmQbQO6cXhuGQMeaID/2nrLU3eQ98CMB23/+stfYlEXFl7g3e0Q0x89FMnZ6viZzwrUS0OwiCD51AvV7fZIw5RER/AHDC50XEwb0GYLLRaAyna6tMAmUq8LrscNmSZqV5IvI2gIdXTK7iOL5CVX8H0E5HiWhPEATuDTNrURQdJKJhD3OHtfZkx/iCHHhsbMwMDAycB7DOw0RBEJQyI/k35fgKQDshB3AdM/+wJIyPwh8T0X1+wp9EtDEIgp+zAArD8DZjzKS3NcPM7T9uWRh/+NxB7bRvXWanqr9casniymZjzAYArj5zF0uu7Wfmff8J4wZFZP62IYsdWcLGVD6fv3lkZOSvFWHq9frVxpjPiOjGHsD82Gq17imXy84XLWjLVooTExOXNRoNd5Wxk4gGl7tF6AaWiJwrcOfO3d287HzRUuv+AcWE428O1btlAAAAAElFTkSuQmCC\""],"sourceRoot":""}