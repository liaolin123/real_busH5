{"version":3,"sources":["pages/destination/index.jsx","assets/imgs/yellow.png","assets/imgs/bule.png","assets/imgs/fff.png","tool/Processing.js","tool/http.js","tool/api/real_bus.js","components/busHeader/index.jsx","tool/loading/Loading.js"],"names":["AMap","window","Destination","props","_changeSelect","index","name","item","siteOrder","state","latitude","longitude","setState","selectID","BUSname","destination","parseFloat","_setTime","lineId","upDown","a","Loading","show","userId","Math","ceil","random","seachNew","carNum","siteRoad","selectLineCars","userid","lineSiteCarsParams","code","busList","data","remove","LISTSORT","_TIMES","_filterListView","list","drawInTime","sessionStorage","setItem","JSON","stringify","time","history","goBack","_determine","that","mylocation","plugin","driving","Driving","policy","DrivingPolicy","LEAST_TIME","startLngLat","search","status","result","info","routes","alert","meroAll","parse","location","viewList","deskHeight","this","document","body","clientHeight","topData","className","style","height","bus","map","num","backgroundColor","color","src","alt","onClick","Component","connect","locationCity","myLineData","recommendData","dispatch","_changeCity","number","type","CITY","_setRecommend","valueList","viewSort","_sortView","array","i","j","tmp","len","length","slice","_unique","val","n","r","soleId","indexOf","push","_mergeList","reacommendList","selectLineCarsList","viewData","Object","assign","_setChildDOM","value","newArr","sort","b","_setCacheList","flag","_setFlag","valueC","arrayLocal","arrayCache","_delCache","cacheList","filter","_filter","$rempm","$cache","$filterData","_getDistance","lat1","lng1","lat2","lng2","radLat1","PI","radLat2","s","asin","sqrt","pow","sin","cos","round","_setLocation","array1","array2","newBusList","nextNum","busLocat","deepCopy","target","copyed_objs","_deepCopy","copyTarget","obj","Array","isArray","keys","forEach","key","theTime","parseInt","middle","hour","post","url","params","head","Promise","resolve","reject","axios","then","res","catch","err","defaults","baseURL","timeout","interceptors","request","use","config","error","response","console","log","header","headers","searchList","qs","nearSites","recommendLine","selectSiteDetails","Busheader","beginSite","endSite","beginTime","endTime","ticketPrice","div","createElement","appendChild","ReactDOM","render","unmountComponentAtNode","parentNode","removeChild"],"mappings":"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","file":"static/js/5.72b387ac.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport {  selectLineCars } from '@/tool/api/real_bus.js'\r\nimport {connect} from 'react-redux'//引入redux容器组件\r\nimport { CITY } from '@/redux/city_location/variable.js'//引入reducers变量\r\nimport { _filterListView,_TIMES} from '@/tool/Processing.js'\r\nimport Busheader from '@/components/busHeader/index'\r\nimport Loading from '@/tool/loading/Loading.js'\r\nimport fff from '@/assets/imgs/fff.png'\r\nimport bule from '@/assets/imgs/bule.png'\r\nimport yellow from '@/assets/imgs/yellow.png'\r\nimport './index.scss'\r\nconst AMap = window.AMap;\r\nclass Destination extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        const meroAll=JSON.parse(props.location.state.meroAll)\r\n        this.state={\r\n            siteOrder:meroAll.siteOrder,\r\n            viewList:meroAll.viewList,\r\n            lineId:meroAll.lineId,\r\n            upDown:meroAll.upDown,\r\n            selectID:null,\r\n            BUSname:null,\r\n            destination:[],\r\n            deskHeight: null,\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.setState({\r\n            deskHeight:document.body.clientHeight+'px'\r\n        })\r\n    }\r\n    _changeSelect = (index,name,item)=>{//选择站点\r\n        const { siteOrder } = this.state\r\n        const { latitude,longitude } = item\r\n        if(index<siteOrder) return\r\n        this.setState({\r\n            selectID:index,\r\n            BUSname:name,\r\n            destination:[parseFloat(longitude),parseFloat(latitude)]\r\n        })\r\n    }\r\n    _setTime = async (lineId,siteOrder,upDown,BUSname) =>{\r\n        Loading.show()\r\n        let userId=Math.ceil(Math.random()*100000)\r\n        let seachNew= [{\r\n            carNum: 0,\r\n            lineId: lineId,\r\n            siteOrder:siteOrder, \r\n            siteRoad: 1, \r\n            upDown:upDown }]\r\n        let {code , data:busList} = await selectLineCars({\r\n            userid: userId,\r\n        lineSiteCarsParams: seachNew})\r\n        if( code!==200) return\r\n        Loading.remove()\r\n        let LISTSORT=_TIMES(_filterListView(busList[0].list)[0].drawInTime)\r\n        sessionStorage.setItem('busId',JSON.stringify({time:LISTSORT,name:BUSname}))\r\n        this.props.history.goBack();\r\n    }\r\n    _determine = ()=>{//确定\r\n        let { BUSname,destination} = this.state//lineId,upDown,selectID\r\n        let that=this\r\n        if(BUSname===null) return;\r\n        const { latitude,longitude } = this.props.mylocation//当前所在城市\r\n        AMap.plugin('AMap.Driving', function() {\r\n            var driving = new AMap.Driving({\r\n              // 驾车路线规划策略，AMap.DrivingPolicy.LEAST_TIME是最快捷模式\r\n              policy: AMap.DrivingPolicy.LEAST_TIME\r\n            })\r\n            let startLngLat = [longitude,latitude]\r\n            driving.search(startLngLat, destination, function (status, result) {\r\n              const { info } = result\r\n              if(info==='OK'){\r\n                sessionStorage.setItem('busId',JSON.stringify({time:_TIMES(result.routes[0].time),name:BUSname}))\r\n                that.props.history.goBack();\r\n              }else{\r\n                  alert(info)\r\n              }\r\n            })\r\n          })\r\n    }\r\n    render() {\r\n        const { topData }= this.props.location.state\r\n        const { viewList,siteOrder,selectID,deskHeight } = this.state\r\n        return ( \r\n            <div className=\"ion\" \r\n            style={{ height: deskHeight}}\r\n            >\r\n                <div className=\"icon_height\">\r\n                    <Busheader bus={ topData }></Busheader>\r\n                    <div className=\"ion_con\">\r\n                        <div className=\"con_top\">\r\n                            <div className=\"top_line\"></div>\r\n                            <div className=\"top_text\">{topData.name}</div>\r\n                        </div>\r\n                        <div className=\"con_fl\">\r\n                            {\r\n                                viewList.map((item,index)=>{\r\n                                    return (\r\n                                        <div className=\"fl_box\" key={index}>\r\n                                            <div className=\"box_one\"\r\n                                            style={item.num<siteOrder?\r\n                                                {backgroundColor: ' #BBBBBB'}\r\n                                                :item.num===siteOrder?\r\n                                                {backgroundColor: '#FFB311'}\r\n                                                :{backgroundColor: '#0090FF'}\r\n                                            }\r\n                                            >{item.num}</div>\r\n                                            <div className=\"box_two\" style={{backgroundColor:item.color}}>\r\n                                                <img src={item.num===siteOrder?yellow:item.num===selectID?bule:fff} alt=\"\" />\r\n                                            </div>\r\n                                            <div className=\"box_three\"\r\n                                            style={item.num<siteOrder?\r\n                                                {color: '#8E8E8E'}\r\n                                                :item.num===siteOrder?\r\n                                                {color: '#D88011'}:\r\n                                                item.num===selectID?\r\n                                                {color: '#0090FF'}\r\n                                                :{color: '#3A3A3A'}\r\n                                            }\r\n                                            onClick={()=>this._changeSelect(item.num,item.name,item)}\r\n                                            >{item.name}</div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"con_fixed\" onClick={()=>this._determine()}>确定</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps=(state)=>({mylocation:state.locationCity,myLineData:state.recommendData})\r\nconst mapDisPatchToProps=(dispatch)=>({\r\n    _changeCity:(number)=>{\r\n        dispatch({type:CITY,data:number})\r\n    }\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps,mapDisPatchToProps)( Destination )","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAABC0lEQVQoU42SMUsDQRSEZy5aidzuTxACpreJbRAtTIJgZWFtFUxnGxtJKTb2YmEnuaTQwl57BVNpozbCLRYBI2bEuyhuOC5u93bme7ydfVTHHiNQGYLw93BcC/TvSYxGB1RkrkBWPHFqoSbVnS8BhVuAhan+1PCE17iYjKGuOQS4+y+Q2GI1PkvBc2Mww0cAYS5M3LAal789vw9XzzQgHuWC+lxm/e3aB1sIsGTvAJQyYemUdbf9o3lRKwpXweAyAxxg+F7k5uAlE0yDshcA1nxYLdbcvv/NE+0VhQsA+yBnU0kPeHaL3MFHLphYe7YNYS8xBtrguutMju+v01jVCeZg7T2gPmtuJSusL4VAT/h/0ZrXAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAA7UlEQVQoU42RsU4CURREz2C2MBTwCyQk8AnSEqItrQU1FWHRwhYaYkIiqxb8gAWtHRT00EMCFTbG1srG4DULbGTXdeV1c2dO3n3zhGcD4AwwwifQisx93RV9myDKETNZClc8WpENc+DkSPiVd/K7NfrmIZpHgeKSpoYBmAVeEJl/4Bmu/D74efi9NTAeEsENJa41DYNtS5FlART/gJ9wVQu8cNV3dk6KcQz4gZGnpbd4cFfUCHERgo02LXUOZ9HPhZ7lcFgBzj645pQCdX0mg77r2S1wsw1+UeVKz9H1f9/oJ3qWxmEJrHBViSvrG5caOHf88nP2AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAMCAYAAABSgIzaAAAA1klEQVQoU42RMU6CQRCFvwexsoArkJDoEbQlBFtaC45AsLPVhlgaGy9gQUuHBT30mmglDeEGNBbPLNnfwLpxmW7mzZeZeSPbz8AFYA6jypXUQz6W7TnQScRSehPAc+ANqJe6o74G2rs1bD8CoyPBa0mTCmwCK6BRgJeSgh/8Hm57CDwVwEtJixSsAe9AuDkXL5IGlXBgte0e8JqhtjtDpE0WjEbNgKsEvpN0v19LnxscbgGfwEls/ALOJH3/C8apD8BtbOxLmqbr/5kYwVPgI0yW1M059QMdeD7QyXlatQAAAABJRU5ErkJggg==\"","\r\n\r\n\r\nexport const _setRecommend = (valueList) =>{//处理实时公交的处理数据\r\n    return valueList.map( item =>{\r\n        return {\r\n            carNum: 0,\r\n            lineId: item.lineId,\r\n            siteOrder: item.viewSort,\r\n            siteRoad: 0,\r\n            upDown: item.upDown\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\n// 将最小元素推至最前\r\nexport const _sortView = (array) => { \r\n  let len = array.length,\r\n  i, j, tmp, result;\r\n  result = array.slice(0);\r\n  for (i = 0; i < len; i++) {\r\n    for (j = len - 1; j > i; j--) {\r\n      if (result[j].lineId < result[j - 1].lineId) {\r\n        tmp = result[j - 1];\r\n        result[j - 1] = result[j];\r\n        result[j] = tmp;\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n// 去重\r\nexport  const  _unique = (array) =>{\r\n  if(!array.length) return []\r\n  let n = {}, r = [], val, type;\r\n      for (let i = 0; i < array.length; i++) {\r\n          val = array[i].soleId;\r\n          type = typeof val;\r\n          if (!n[val]) {\r\n              n[val] = [type];\r\n              r.push(array[i]);\r\n          } else if (n[val].indexOf(type) < 0) {\r\n              n[val].push(type);\r\n              r.push(array[i]);\r\n          }\r\n      }\r\n  return r;\r\n}\r\n\r\nexport const _mergeList = ( reacommendList,selectLineCarsList ) =>{//合并数组\r\n    let viewData = reacommendList\r\n    for (let i = 0; i < viewData.length; i++) Object.assign( viewData[i] , selectLineCarsList[i])\r\n    return viewData\r\n}\r\n\r\nexport const _setChildDOM = ( value )=>{\r\n  let newArr=[]\r\n  for (let i = 0; i < value.length; i++) {\r\n      if(value[i].drawInTime!==-1){\r\n        newArr.push(value[i])\r\n      }\r\n  }\r\n  return newArr.sort((a,b)=> a.drawInTime - b.drawInTime)\r\n}\r\n\r\nexport const _setCacheList = ( array ) =>{//过滤保存数据\r\n  return array.map(item=>{\r\n    return {\r\n      flag:item.flag,\r\n      soleId:item.soleId,\r\n    }\r\n  })\r\n}\r\n\r\nexport const _setFlag = ( value,valueC ) =>{//查看是否收藏\r\n  let arrayLocal=value\r\n  let arrayCache=valueC\r\n  for(let i=0;i<arrayLocal.length;i++){\r\n    for(let j=0;j<arrayCache.length;j++){\r\n      if(arrayLocal[i].soleId===arrayCache[j].soleId){\r\n        arrayLocal[i].flag=arrayCache[j].flag\r\n      }\r\n    }\r\n  }\r\n  return arrayLocal\r\n}\r\n\r\n\r\nexport const _delCache = ( array ,soleId) =>{\r\n  let cacheList = array\r\n  cacheList=cacheList.filter(item=>{\r\n    return item.soleId!==soleId\r\n  })\r\n  return cacheList\r\n}\r\n\r\n\r\nexport const _filter = ($rempm,$cache) =>{\r\n  let $filterData=[]\r\n  if(!$cache.length) return []\r\n  for(let i=0;i<$rempm.length;i++){\r\n    for (let j = 0; j < $cache.length; j++) {\r\n      if($rempm[i].soleId===$cache[j].soleId){\r\n        $rempm[i].flag=$cache[j].flag\r\n        $filterData.push($rempm[i])\r\n      }\r\n    }\r\n  }\r\n  return $filterData\r\n}\r\n\r\nexport const _getDistance = (lat1, lng1, lat2, lng2) =>{ // 根据经纬度计算两点之间的距离\r\n  let radLat1 = lat1*Math.PI / 180.0\r\n  let radLat2 = lat2*Math.PI / 180.0\r\n  let a = radLat1 - radLat2\r\n  let b = lng1*Math.PI / 180.0 - lng2*Math.PI / 180.0\r\n  let s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2) +\r\n  Math.cos(radLat1)*Math.cos(radLat2)*Math.pow(Math.sin(b/2),2)))\r\n  s = s *6378.137 \r\n  s = Math.round(s * 10000) / 10000*1000\r\n  return Math.ceil(s)\r\n}\r\n\r\nexport const _setLocation = (array1,array2) =>{//将行驶车辆添加到数组中\r\n  let newBusList=array1\r\n  for (let i = 0; i < newBusList.length; i++) {\r\n    for (let j = 0; j < array2.length; j++) { \r\n      if(newBusList[i].viewSort===array2[j].nextNum){\r\n        newBusList[i].busLocat=array2[j]\r\n      }\r\n    }\r\n  }\r\n  return newBusList\r\n}\r\n\r\nexport function deepCopy(target){ \r\n  let copyed_objs = [];//此数组解决了循环引用和相同引用的问题，它存放已经递归到的目标对象 \r\n  function _deepCopy(target){ \r\n      if((typeof target !== 'object')||!target){return target;}\r\n      for(let i= 0 ;i<copyed_objs.length;i++){\r\n          if(copyed_objs[i].target === target){\r\n              return copyed_objs[i].copyTarget;\r\n          }\r\n      }\r\n      let obj = {};\r\n      if(Array.isArray(target)){\r\n          obj = [];//处理target是数组的情况 \r\n      }\r\n      copyed_objs.push({target:target,copyTarget:obj}) \r\n      Object.keys(target).forEach(key=>{ \r\n          if(obj[key]){ return;} \r\n          obj[key] = _deepCopy(target[key]);\r\n      }); \r\n      return obj;\r\n  } \r\n  return _deepCopy(target)\r\n}\r\n\r\n\r\nexport const _filterListView = (array) =>{//过滤车辆时间数组并排序\r\n  let viewList = array\r\n  viewList=viewList.filter(item=>{\r\n    return item.drawInTime!==-1\r\n  })\r\n  return viewList.sort((a,b)=>a.drawInTime-b.drawInTime)\r\n}\r\n\r\nexport const  _TIMES = (time)=>{\r\n  let theTime = parseInt(time);// 秒\r\n  let middle= 0;// 分\r\n  let hour= 0;// 小时\r\n  if(theTime > 60) {\r\n      middle= parseInt(theTime/60);\r\n      theTime = parseInt(theTime%60);\r\n      if(middle> 60) {\r\n          hour= parseInt(middle/60);\r\n          middle= parseInt(middle%60);\r\n      }\r\n  }\r\n  let result=`${parseInt(theTime)}`\r\n  if(middle > 0) {\r\n      result=`${parseInt(middle)<10?`0${parseInt(middle)}`:parseInt(middle)}:${result<10?`0${result}`:result}`\r\n  }\r\n  if(hour> 0) {\r\n      result=`${parseInt(hour)<10?`0${parseInt(hour)}`:parseInt(hour)}:${result<10?`0${result}`:result}`\r\n  }\r\n  if(middle<=0&&hour<=0){\r\n    result=`00:${result<10?`0${result}`:result}`\r\n  }\r\n  return result;\r\n}\r\n  ","import axios from 'axios'; // 引入axios\r\n\r\n\r\naxios.defaults.baseURL = 'http://localhost:3000';\r\n\r\naxios.defaults.timeout = 10000;//超时时间\r\n\r\n\r\n// 请求拦截器\r\naxios.interceptors.request.use(    \r\n    config => {          \r\n        return config;  \r\n    },    \r\n    error => {        \r\n        return Promise.error(error);    \r\n    }\r\n)\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use( res=>{\r\n    if(res.code===200){\r\n        return Promise.resolve(res);\r\n    }else{\r\n        return Promise.resolve(res);\r\n        \r\n    }\r\n},err=>{\r\n    console.log(err);\r\n})\r\nexport function get(url, params){   \r\n    return new Promise((resolve, reject) =>{        \r\n        axios.get(`${url}`).then(res => {\r\n            resolve(res.data);\r\n        }).catch(err =>{\r\n            reject(err.data)        \r\n    })    \r\n});}\r\nexport function post(url, params,head) {\r\n    return new Promise((resolve, reject) => {\r\n         axios.post(url, params,head)\r\n        .then(res => {\r\n            resolve(res.data);\r\n        })\r\n        .catch(err =>{\r\n            reject(err.data)\r\n        })\r\n    });\r\n}","import { post } from '@/tool/http.js'\r\nimport qs from 'qs'\r\nconst header={headers: {'Content-Type': 'application/x-www-form-urlencoded'}}\r\n// 搜索列表\r\nexport const searchList = params => post('/travelApp/busLineSite/searchList',qs.stringify(params),header)\r\n\r\n// 实时公交\r\nexport const selectLineCars = params =>post(`/travelApp/busLineSite/selectLineCars/${params.userId}`,params.lineSiteCarsParams)\r\n\r\n// 线路附近站点列表\r\nexport const nearSites = params => post('/travelApp/busLineSite/nearSites',qs.stringify(params),header)\r\n\r\n// 推荐线路\r\nexport const recommendLine = params =>post(`/travelApp/busLineSite/recommendLine`,qs.stringify(params),header)\r\n\r\n// 地点详情\r\nexport const SiteDetails = params =>post('/travelApp/busLineSite/selectSiteDetails',params)\r\n\r\n// 车辆相信信息\r\nexport const selectSiteDetails = params =>post('/travelApp/busLineSite/selectLineDetails',qs.stringify(params))","import React, { Component } from 'react'\r\nimport './index.scss'\r\nexport default class Busheader extends Component {\r\n    render() {\r\n        const {bus}=this.props\r\n        return (\r\n            <div className=\"header\">\r\n                <div className=\"header_box\">\r\n                    <div className=\"box_left\">\r\n                        <div className=\"left_text\">{bus.beginSite} → {bus.endSite}</div>\r\n                        <div>首末班 {bus.beginTime}--{bus.endTime}</div>\r\n                    </div>\r\n                    <div className=\"box_right\">票价{bus.ticketPrice/100}元  支持换乘</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import ReactDOM from 'react-dom';\r\nimport './index.scss'\r\nfunction Loading(props) {\r\n    return <div className=\"loading-container\">\r\n              <div className=\"container_box\">\r\n               <div className=\"box_loading\">\r\n                  <div className=\"loading\">\r\n                     <span></span>\r\n                     <span></span>\r\n                     <span></span>\r\n                     <span></span>\r\n                     <span></span>\r\n                  </div>\r\n               </div>\r\n              </div>\r\n            </div>\r\n }\r\n Loading.show = function (props) {\r\n    this.div = document.createElement('div');\r\n    document.body.appendChild(this.div);\r\n  \r\n    ReactDOM.render(<Loading {...props}/>, this.div);\r\n }\r\n Loading.remove = function () {\r\n    this.div && ReactDOM.unmountComponentAtNode(this.div); //从div中移除已挂载的Loading组件\r\n    this.div && this.div.parentNode.removeChild(this.div); //移除挂载的容器\r\n }\r\n export default Loading;\r\n"],"sourceRoot":""}