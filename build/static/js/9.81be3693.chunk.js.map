{"version":3,"sources":["pages/mero/index.jsx","tool/Processing.js","tool/http.js","tool/api/real_bus.js","assets/imgs/signal.gif","components/busHeader/index.jsx"],"names":["Mero","props","_GETLINEDATA","a","that","timestamp","Date","parse","state","parameter","siteOrder","lat","long","MYDATA","userId","lineSiteCarsParams","selectLineCars","LINEDATA","data","code","lineBus","list","map","item","drawInTime","_TIMES","location_user","_getDistance","lngLat","split","pullIn","stat","nextNum","plateCode","filter","sort","b","setState","buslinebus","_SETDOM","DOM","className","src","signal","alt","meroAll","location","this","topData","bus","index","Component","_setRecommend","valueList","carNum","lineId","viewSort","siteRoad","upDown","_sortView","array","i","j","tmp","result","len","length","slice","_unique","val","type","n","r","soleId","indexOf","push","_mergeList","reacommendList","selectLineCarsList","viewData","Object","assign","_setChildDOM","value","newArr","_setCacheList","flag","_setFlag","valueC","arrayLocal","arrayCache","_delCache","cacheList","_filter","$rempm","$cache","$filterData","lat1","lng1","lat2","lng2","radLat1","Math","PI","radLat2","s","asin","sqrt","pow","sin","cos","round","ceil","_setLocation","array1","array2","newBusList","busLocat","deepCopy","target","copyed_objs","_deepCopy","copyTarget","obj","Array","isArray","keys","forEach","key","_filterListView","viewList","time","theTime","parseInt","middle","hour","post","url","params","head","Promise","resolve","reject","axios","then","res","catch","err","defaults","baseURL","timeout","interceptors","request","use","config","error","response","console","log","header","headers","searchList","qs","stringify","nearSites","recommendLine","selectSiteDetails","Busheader","beginSite","endSite","beginTime","endTime","ticketPrice"],"mappings":"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","file":"static/js/9.81be3693.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport Busheader from '@/components/busHeader/index'\r\nimport './index.scss'\r\nimport signal from '@/assets/imgs/signal.gif'\r\nimport { selectLineCars } from '@/tool/api/real_bus.js'\r\nimport { _getDistance ,_TIMES} from '@/tool/Processing.js'\r\nexport default class Mero extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        const { meroAll } = props.location.state\r\n        const { siteOrder } = meroAll\r\n        this.state={\r\n            parameter:meroAll,\r\n            siteOrder:siteOrder,\r\n            buslinebus:[]\r\n        }\r\n    }\r\n    _GETLINEDATA = async ()=>{\r\n        let that=this\r\n        let timestamp = Date.parse(new Date());\r\n        let { parameter,siteOrder } = that.state\r\n        let { lat,long } = parameter\r\n        let MYDATA={userId:timestamp,lineSiteCarsParams:[parameter]}\r\n        const { data:LINEDATA,code } = await selectLineCars(MYDATA)\r\n        if(code!==200) return;\r\n        let lineBus=LINEDATA[0].list\r\n        lineBus=lineBus.map(item=>{\r\n            return {\r\n              drawInTime:_TIMES(item.drawInTime),\r\n              location_user:_getDistance(lat,long,item.lngLat.split(',')[1],item.lngLat.split(',')[0]),\r\n              pullIn:item.pullIn,\r\n              stat:siteOrder-item.nextNum,\r\n              plateCode:item.plateCode\r\n            }\r\n        })\r\n        lineBus=lineBus.filter((item)=>item.drawInTime!==-1)\r\n        lineBus=lineBus.filter((item)=>item.pullIn!==1)\r\n        lineBus=lineBus.sort((a,b)=>a.stat-b.stat) \r\n        that.setState({\r\n            buslinebus:lineBus\r\n        })\r\n    }\r\n    _SETDOM = (list)=>{\r\n        let DOM=''\r\n        if(list.pullIn===2) DOM=(<div className=\"left_pullIn2\">\r\n            <div className=\"pullIn2_top\">\r\n                <img src={signal} alt=\"\" />\r\n            </div>\r\n            <div className=\"pullIn2_text\">{list.drawInTime}</div>\r\n            <div className=\"pullIn2_fl\">{list.stat}站 / {list.location_user/1000}km</div>\r\n        </div>)\r\n        if(list.pullIn===3) DOM=(<div className=\"left_pullin3\">已到站</div>)\r\n        if(list.pullIn===4) DOM=(<div className=\"left_pullin3\">即将到站</div>)\r\n        return DOM\r\n    }\r\n    componentDidMount(){\r\n        this._GETLINEDATA()\r\n    }\r\n    render() {\r\n        const { topData }= this.props.location.state\r\n        const { buslinebus } = this.state\r\n        return (\r\n            <div className=\"mero\">\r\n                <Busheader bus={ topData }></Busheader>\r\n                <div className=\"mero_con\">\r\n                    {\r\n                        buslinebus.map((item,index)=>{\r\n                            return (<div className=\"con_box\" key={index}>\r\n                                    <div className=\"box_left\">\r\n                                        {this._SETDOM(item)}\r\n                                    </div>\r\n                                    <div className=\"box_right\">\r\n                                        <div className=\"right_text\">{item.plateCode}</div>\r\n                                    </div>\r\n                                </div>)\r\n                        })\r\n                    }\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","\r\n\r\n\r\nexport const _setRecommend = (valueList) =>{//处理实时公交的处理数据\r\n    return valueList.map( item =>{\r\n        return {\r\n            carNum: 0,\r\n            lineId: item.lineId,\r\n            siteOrder: item.viewSort,\r\n            siteRoad: 0,\r\n            upDown: item.upDown\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\n// 将最小元素推至最前\r\nexport const _sortView = (array) => { \r\n  let len = array.length,\r\n  i, j, tmp, result;\r\n  result = array.slice(0);\r\n  for (i = 0; i < len; i++) {\r\n    for (j = len - 1; j > i; j--) {\r\n      if (result[j].lineId < result[j - 1].lineId) {\r\n        tmp = result[j - 1];\r\n        result[j - 1] = result[j];\r\n        result[j] = tmp;\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\n// 去重\r\nexport  const  _unique = (array) =>{\r\n  if(!array.length) return []\r\n  let n = {}, r = [], val, type;\r\n      for (let i = 0; i < array.length; i++) {\r\n          val = array[i].soleId;\r\n          type = typeof val;\r\n          if (!n[val]) {\r\n              n[val] = [type];\r\n              r.push(array[i]);\r\n          } else if (n[val].indexOf(type) < 0) {\r\n              n[val].push(type);\r\n              r.push(array[i]);\r\n          }\r\n      }\r\n  return r;\r\n}\r\n\r\nexport const _mergeList = ( reacommendList,selectLineCarsList ) =>{//合并数组\r\n    let viewData = reacommendList\r\n    for (let i = 0; i < viewData.length; i++) Object.assign( viewData[i] , selectLineCarsList[i])\r\n    return viewData\r\n}\r\n\r\nexport const _setChildDOM = ( value )=>{\r\n  let newArr=[]\r\n  for (let i = 0; i < value.length; i++) {\r\n      if(value[i].drawInTime!==-1){\r\n        newArr.push(value[i])\r\n      }\r\n  }\r\n  return newArr.sort((a,b)=> a.drawInTime - b.drawInTime)\r\n}\r\n\r\nexport const _setCacheList = ( array ) =>{//过滤保存数据\r\n  return array.map(item=>{\r\n    return {\r\n      flag:item.flag,\r\n      soleId:item.soleId,\r\n    }\r\n  })\r\n}\r\n\r\nexport const _setFlag = ( value,valueC ) =>{//查看是否收藏\r\n  let arrayLocal=value\r\n  let arrayCache=valueC\r\n  for(let i=0;i<arrayLocal.length;i++){\r\n    for(let j=0;j<arrayCache.length;j++){\r\n      if(arrayLocal[i].soleId===arrayCache[j].soleId){\r\n        arrayLocal[i].flag=arrayCache[j].flag\r\n      }\r\n    }\r\n  }\r\n  return arrayLocal\r\n}\r\n\r\n\r\nexport const _delCache = ( array ,soleId) =>{\r\n  let cacheList = array\r\n  cacheList=cacheList.filter(item=>{\r\n    return item.soleId!==soleId\r\n  })\r\n  return cacheList\r\n}\r\n\r\n\r\nexport const _filter = ($rempm,$cache) =>{\r\n  let $filterData=[]\r\n  if(!$cache.length) return []\r\n  for(let i=0;i<$rempm.length;i++){\r\n    for (let j = 0; j < $cache.length; j++) {\r\n      if($rempm[i].soleId===$cache[j].soleId){\r\n        $rempm[i].flag=$cache[j].flag\r\n        $filterData.push($rempm[i])\r\n      }\r\n    }\r\n  }\r\n  return $filterData\r\n}\r\n\r\nexport const _getDistance = (lat1, lng1, lat2, lng2) =>{ // 根据经纬度计算两点之间的距离\r\n  let radLat1 = lat1*Math.PI / 180.0\r\n  let radLat2 = lat2*Math.PI / 180.0\r\n  let a = radLat1 - radLat2\r\n  let b = lng1*Math.PI / 180.0 - lng2*Math.PI / 180.0\r\n  let s = 2 * Math.asin(Math.sqrt(Math.pow(Math.sin(a/2),2) +\r\n  Math.cos(radLat1)*Math.cos(radLat2)*Math.pow(Math.sin(b/2),2)))\r\n  s = s *6378.137 \r\n  s = Math.round(s * 10000) / 10000*1000\r\n  return Math.ceil(s)\r\n}\r\n\r\nexport const _setLocation = (array1,array2) =>{//将行驶车辆添加到数组中\r\n  let newBusList=array1\r\n  for (let i = 0; i < newBusList.length; i++) {\r\n    for (let j = 0; j < array2.length; j++) { \r\n      if(newBusList[i].viewSort===array2[j].nextNum){\r\n        newBusList[i].busLocat=array2[j]\r\n      }\r\n    }\r\n  }\r\n  return newBusList\r\n}\r\n\r\nexport function deepCopy(target){ \r\n  let copyed_objs = [];//此数组解决了循环引用和相同引用的问题，它存放已经递归到的目标对象 \r\n  function _deepCopy(target){ \r\n      if((typeof target !== 'object')||!target){return target;}\r\n      for(let i= 0 ;i<copyed_objs.length;i++){\r\n          if(copyed_objs[i].target === target){\r\n              return copyed_objs[i].copyTarget;\r\n          }\r\n      }\r\n      let obj = {};\r\n      if(Array.isArray(target)){\r\n          obj = [];//处理target是数组的情况 \r\n      }\r\n      copyed_objs.push({target:target,copyTarget:obj}) \r\n      Object.keys(target).forEach(key=>{ \r\n          if(obj[key]){ return;} \r\n          obj[key] = _deepCopy(target[key]);\r\n      }); \r\n      return obj;\r\n  } \r\n  return _deepCopy(target)\r\n}\r\n\r\n\r\nexport const _filterListView = (array) =>{//过滤车辆时间数组并排序\r\n  let viewList = array\r\n  viewList=viewList.filter(item=>{\r\n    return item.drawInTime!==-1\r\n  })\r\n  return viewList.sort((a,b)=>a.drawInTime-b.drawInTime)\r\n}\r\n\r\nexport const  _TIMES = (time)=>{\r\n  let theTime = parseInt(time);// 秒\r\n  let middle= 0;// 分\r\n  let hour= 0;// 小时\r\n  if(theTime > 60) {\r\n      middle= parseInt(theTime/60);\r\n      theTime = parseInt(theTime%60);\r\n      if(middle> 60) {\r\n          hour= parseInt(middle/60);\r\n          middle= parseInt(middle%60);\r\n      }\r\n  }\r\n  let result=`${parseInt(theTime)}`\r\n  if(middle > 0) {\r\n      result=`${parseInt(middle)<10?`0${parseInt(middle)}`:parseInt(middle)}:${result<10?`0${result}`:result}`\r\n  }\r\n  if(hour> 0) {\r\n      result=`${parseInt(hour)<10?`0${parseInt(hour)}`:parseInt(hour)}:${result<10?`0${result}`:result}`\r\n  }\r\n  if(middle<=0&&hour<=0){\r\n    result=`00:${result<10?`0${result}`:result}`\r\n  }\r\n  return result;\r\n}\r\n  ","import axios from 'axios'; // 引入axios\r\n\r\n\r\naxios.defaults.baseURL = 'http://localhost:3000';\r\n\r\naxios.defaults.timeout = 10000;//超时时间\r\n\r\n\r\n// 请求拦截器\r\naxios.interceptors.request.use(    \r\n    config => {          \r\n        return config;  \r\n    },    \r\n    error => {        \r\n        return Promise.error(error);    \r\n    }\r\n)\r\n\r\n// 响应拦截器\r\naxios.interceptors.response.use( res=>{\r\n    if(res.code===200){\r\n        return Promise.resolve(res);\r\n    }else{\r\n        return Promise.resolve(res);\r\n        \r\n    }\r\n},err=>{\r\n    console.log(err);\r\n})\r\nexport function get(url, params){   \r\n    return new Promise((resolve, reject) =>{        \r\n        axios.get(`${url}`).then(res => {\r\n            resolve(res.data);\r\n        }).catch(err =>{\r\n            reject(err.data)        \r\n    })    \r\n});}\r\nexport function post(url, params,head) {\r\n    return new Promise((resolve, reject) => {\r\n         axios.post(url, params,head)\r\n        .then(res => {\r\n            resolve(res.data);\r\n        })\r\n        .catch(err =>{\r\n            reject(err.data)\r\n        })\r\n    });\r\n}","import { post } from '@/tool/http.js'\r\nimport qs from 'qs'\r\nconst header={headers: {'Content-Type': 'application/x-www-form-urlencoded'}}\r\n// 搜索列表\r\nexport const searchList = params => post('/travelApp/busLineSite/searchList',qs.stringify(params),header)\r\n\r\n// 实时公交\r\nexport const selectLineCars = params =>post(`/travelApp/busLineSite/selectLineCars/${params.userId}`,params.lineSiteCarsParams)\r\n\r\n// 线路附近站点列表\r\nexport const nearSites = params => post('/travelApp/busLineSite/nearSites',qs.stringify(params),header)\r\n\r\n// 推荐线路\r\nexport const recommendLine = params =>post(`/travelApp/busLineSite/recommendLine`,qs.stringify(params),header)\r\n\r\n// 地点详情\r\nexport const SiteDetails = params =>post('/travelApp/busLineSite/selectSiteDetails',params)\r\n\r\n// 车辆相信信息\r\nexport const selectSiteDetails = params =>post('/travelApp/busLineSite/selectLineDetails',qs.stringify(params))","export default \"data:image/gif;base64,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\"","import React, { Component } from 'react'\r\nimport './index.scss'\r\nexport default class Busheader extends Component {\r\n    render() {\r\n        const {bus}=this.props\r\n        return (\r\n            <div className=\"header\">\r\n                <div className=\"header_box\">\r\n                    <div className=\"box_left\">\r\n                        <div className=\"left_text\">{bus.beginSite} → {bus.endSite}</div>\r\n                        <div>首末班 {bus.beginTime}--{bus.endTime}</div>\r\n                    </div>\r\n                    <div className=\"box_right\">票价{bus.ticketPrice/100}元  支持换乘</div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n"],"sourceRoot":""}